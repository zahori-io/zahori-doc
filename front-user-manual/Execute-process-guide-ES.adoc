:imagesdir: images
= Guía de ejecución de procesos en Zahorí
:revdate: {docdate}
:toc: left
:toclevels: 3
:sectnums:
:sectanchors:
:Author: Zahori Panel Team
:revnumber: latest
:icons: font
:source-highlighter: coderay
:docinfo: shared

= Pasos previos

<<<

- Debemos tener el servidor iniciado: https://github.com/zahori-io/zahori-doc#3-inicia-el-servidor
- Debemos tener el proceso de ejemplo ejecutándose: https://github.com/zahori-io/zahori-doc#5-iniciar-el-proceso-de-ejemplo

<<<

= Acceder a la web de zahori
<<<

Desde nuestro navegador, accedemos a la siguiente URL: localhost:9090/zahori
Una vez allí, veremos la pantalla de inicio de Zahori, la cual, si es la primera vez que entramos, será la pantalla de Log In:

image::001_ZAHORI_LOGIN.png[title="Log in de Zahori"]

Introducimos los credenciales por defecto

- Usuario: zahori
- Contraseña: zahori

Una vez hecho el Log In, veremos el dashboard de Zahori


<<<

= El Dashboard de Zahori

<<<

image::002_ZAHORI_DASHBOARD.png[title="Dashboard de Zahori"]

Dentro del dashboard, nos llaman la atención varios elementos:

- Apartado de equipos: es donde podemos ver los diferentes equipos que desarrollan un proceso Zahori, y sus respectivos integrantes.
- Apartado procesos: es donde podemos ver todos los procesos de Zahorí que tenemos asociados a este servidor.
- Estadísticas: en el centro del dashboard podemos ver unas pequeñas estadísticas de los procesos:
    * Equipo que ha desarrollado el proceso
    * Número de tests que tiene el proceso
    * Número exacto de tests total, número de tests pasados, y porcentaje de tests pasados

<<<

= Dentro de un proceso de Zahori

<<<

Vamos a dirigirnos, en el apartado de _procesos_, al proceso _Search Wikipedia_, lo primero que veremos será el apartado de últimas ejecuciones, donde podremos ver todas las ejecuciones que lanzamos, y los resultados de estas

image::003_ZAHORI_ULTIMAS_EJECUCIONES.png[title="Últimas ejecuciones de un proceso de Zahori"]

Justo debajo de la cabecera de la web, podemos ver las opciones a las que podemos acceder al hacer seleccionar un proceso:

image::004_ZAHORI_PROCESS_OPTIONS.png[title="Opciones de un proceso de Zahori"]

1. Últimas ejecuciones: el apartado que se nos muestra por defecto al acceder a un proceso, muestra todas las ejecuciones lanzadas, paginadas de 10 en 10, y el resultado de cada una.
2. Disparador: desde este apartado podremos ejecutar los tests que deseemos y que estén registrados en el apartado _Casos_.
3. Configuraciones: el apartado que nos permite modificar distintos parámetros para la ejecución de un test: contra qué entorno se va a lanzar el test (preproductivo, productivo, etc.), el tiempo de espera para que un elemento de la web se muestre antes de fallar el test, las evidencias que queremos generar, etc.
4. Casos: en este apartado podemos añadir y modificar los tests cases que queramos lanzar.
5. Administración: apartado en el cual podemos configurar ciertas utilidades que aplicamos en otros apartados tales como los entornos o resoluciones que podemos utilizar en el apartado _Configuraciones_ o las etiquetas que podemos ponerle a los tests desde el apartado _Casos_.

<<<

= Ejecutar un test en Zahori

<<<

Hacemos click en el apartado _Disparador_, al hacerlo, veremos los test cases que trae por defecto el proceso de ejemplo de Zahori:

image::005_ZAHORI_PANTALLA_DISPARADOR.png[title="Pantalla _disparador_"]

Tenemos tres maneras de seleccionar los tests que queremos ejecutar:

1. Seleccionar el o los tests que queremos ejecutar manualmente, haciendo click en el switch que encontramos en la primera columna de los tests

2. Seleccionar todos los test con el switch que está fuera de la tabla, haciendo que se marquen todos automáticamente.

3. Hacer click en las etiquetas de la parte superior derecha de la pantalla de disparador, junto al buscador, se puede asociar un caso con una etiqueta desde la pantalla de _Casos_

image::006_ZAHORI_EJECUTAR_CASOS_CLICK_SWITCH.png[title="Primera forma de ejecutar tests: Haciendo click en los switches"]

image::007_ZAHORI_EJECUTAR_CASOS_CLICK_SWITCH_GENERICO.png[title="Segunda forma de ejecutar tests: Haciendo click en el switch genérico"]

image::008_ZAHORI_EJECUTAR_CASOS_CLICK_ETIQUETA.png[title="Tercera forma de ejecutar tests: Haciendo click en una etiqueta"]

De las tres maneras, como se puede ver en la captura, aparecen los casos a ejecutar que hemos marcado en el panel derecho llamado _Ejecucución_

Una vez seleccionados los tets que queremos ejecutar, introducimos el nombre de la ejecución (por defecto, se pondrá como nombre la fecha y hora actual)

image::009_ZAHORI_EJECUTAR_CASOS_NOMBRE_DEFAULT.png[title="Nombre por defecto de la ejecución"]

Seleccioamos la configuración de ejemplo, marcamos en qué navegadores queremos que se ejecute, en qué resoluciones, y hacemos click en el botón "Ejecutar".

image::010_ZAHORI_EJECUTAR_CASOS_CREAR_EJECUCION.png[title="Una vez rellena toda la información necesaria, hacemos click en el botón _Ejecutar_"]

Una vez lanzada la ejecución, veremos que debajo del botón _Ejecutar_ aparece un mensaje indicándonos que se ha creado la ejecución de manera satisfactoria.

image::011_ZAHORI_EJECUTAR_CASOS_EJECUCION_LANZADA.png[title="Ejecución lanzada de manera correcta"]

<<<

= Interpretar el los resultados de una ejecución

<<<

Una vez lanzada una ejecución, en el apartado _Últimas ejecuciones_ podemos tener varios estados:

1. Test pasado, representado por un check verde
2. Test fallado, representado por un aspa roja
3. Test ejecutándose, representado por un semicírculo girando.

Todos estos iconos los podemos ver en la columna _Estado_ de la tabla de resultados.

image::012_INTERPRETAR_RESULTADOS_ESTADO_TEST.png[title="Diferentes estados de los tests"]

Para refrescar el estado de los tests, hacemos click en el botón de recargar que tenemos al lado de _Últimas ejecuciones_

image::013_REFRESCAR_ESTADO_TESTS.png[title="Refrescar estado de los tests"]

Al hacer click en una ejecución, se nos despliegan todos los test que se han ejecutado, para poder ver con exactitud cuáles han fallado. En el caso de los tests fallados, en la columna _Notas_, veremos una pequeña descripción del fallo.

image::014_MOSTAR_DETALLES_DE_EJECUCION.png[title="Al hacer click sobre una ejecución, vemos los detalles de esta"]

Si hacemos click en el botón con un ojo de la columna de evidencias, podemos ver los pasos ejaecutados y tenemos acceso a las distintas evidencias de la prueba, en este caso las capturas de pantalla y el log.

image::015_MOSTAR_EVIDENCIAS_DE_UN_TEST.png[title="Evidencias de los tests"]

*Podemos añadir o quitar evidencias desde el apartado _Configuraciones_ del que hablaremos más tarde*

<<<

= Administración: Añadir entornos, resoluciones y etiquetas

= Crear configuraciones

= Crear casos de prueba
